<html>
    <head><link rel="stylesheet" href="index.css">
        <title>
            www.gryphonedm.com
        </title>
    </head>
    <body>
        <div class="main-content">
            <!-- Left section - Other projects -->
            <div class="left-section">
                <h3 class="projects-header">My other projects:</h3>
                <ul class="projects-list">
                    <li class="project-item midi-laser">
                        <a href="https://www.youtube.com/shorts/-TSlDc9LbBA" target="_blank" rel="noopener noreferrer" class="project-link">My MIDI Laser Instrument Project <span class="parenthetical-text">(a lot more to come from this in the future hopefully)</span></a>
                    </li>
                    <li class="project-item book">
                        <div class="book-content">
                            <div class="book-cover-placeholder">
                                <img src="assets/bookcover.png" alt="Everything Trichocereus Book Cover" class="book-cover-image">
                            </div>
                            <div class="book-info">
                                <div class="book-title">My Book: Everything Trichocereus</div>
                                <span class="under-construction">(under construction)</span>
                            </div>
                        </div>
                    </li>
                    <li class="project-item proud">PROUD - LGBTQ community app with e2ee<span class="under-construction">(under construction)</span></li>
                    <li class="project-item treesradio"><a href="https://treesradio.com" target="_blank" rel="noopener noreferrer" class="project-link">TreesRadio - A social music sharing site I co-created a long time ago</a></li>
                </ul>
            </div>

            <!-- Center section - Main logo -->
            <div class="center-section">
                <p id="welcome">
                    <span class="rainbow-letter" data-index="0">w</span>
                    <span class="rainbow-letter" data-index="1">e</span>
                    <span class="rainbow-letter" data-index="2">l</span>
                    <span class="rainbow-letter" data-index="3">c</span>
                    <span class="rainbow-letter" data-index="4">o</span>
                    <span class="rainbow-letter" data-index="5">m</span>
                    <span class="rainbow-letter" data-index="6">e</span>
                    <span class="rainbow-letter" data-index="7">&nbsp;</span>
                    <span class="rainbow-letter" data-index="8">t</span>
                    <span class="rainbow-letter" data-index="9">o</span>
                    <span class="rainbow-letter" data-index="10">&nbsp;</span>
                    <span class="rainbow-letter" data-index="11">g</span>
                    <span class="rainbow-letter" data-index="12">r</span>
                    <span class="rainbow-letter" data-index="13">y</span>
                    <span class="rainbow-letter" data-index="14">p</span>
                    <span class="rainbow-letter" data-index="15">h</span>
                    <span class="rainbow-letter" data-index="16">o</span>
                    <span class="rainbow-letter" data-index="17">n</span>
                    <span class="rainbow-letter" data-index="18">e</span>
                    <span class="rainbow-letter" data-index="19">d</span>
                    <span class="rainbow-letter" data-index="20">m</span>
                    <span class="rainbow-letter" data-index="21">.</span>
                    <span class="rainbow-letter" data-index="22">c</span>
                    <span class="rainbow-letter" data-index="23">o</span>
                    <span class="rainbow-letter" data-index="24">m</span>
                </p>
                <div id="wrap">
                    <div id="images">
                        <!-- https://imgur.com/a/Vjpq98Q -->
                        <img id="source" src="x9JSiTc.png" />
                        <img id="map" src="3FTIzUJ.jpg" />
                    </div>
                    <canvas id="output" width="1250" height="1250"></canvas>
                </div>
            </div>

            <!-- Right section - Cactus garden -->
            <div class="right-section">
                <div class="cactus-image-wrapper">
                    <img 
                        src="assets/cactip.jpg" 
                        alt="Cactus" 
                        class="cactus-image"
                    />
                </div>
                <div class="cactus-container">
                    <h3 class="cactus-header">Cactus Garden</h3>
                    <ul class="cactus-list">
                        <li class="cactus-item subreddit">
                            <a href="https://www.reddit.com/r/sanpedrocactus" target="_blank" rel="noopener noreferrer" class="cactus-link">my san pedro cactus subreddit:<br>/r/sanpedrocactus</a>
                        </li>
                        <li class="cactus-item my-posts">
                            <a href="https://www.reddit.com/r/sanpedrocactus/search/?q=author%3AGryphonEDM&restrict_sr=1&sort=new" target="_blank" rel="noopener noreferrer" class="cactus-link">my posts in /r/sanpedrocactus</a>
                        </li>
                        <li class="cactus-item listings">
                            <a href="https://www.reddit.com/r/sanpedrocactusforsale/search/?q=author%3AGryphonEDM&restrict_sr=1&sort=new" target="_blank" rel="noopener noreferrer" class="cactus-link">my cactus listings in /r/sanpedrocactusforsale <span class="parenthetical-text">(sorted by newest)</span></a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Social media links -->
        <div class="social-links">
            <a
                class="YTL"
                href="https://youtube.com/@GryphonEDM"
                target="_blank"
                rel="noopener noreferrer"
            >youtube
            </a>
            <a
                class="RDL"
                href="https://www.reddit.com/user/GryphonEDM/submitted/?sort=top"
                target="_blank"
                rel="noopener noreferrer"
            >reddit
            </a>
            <a
                class="SCL"
                href="https://soundcloud.com/gryphon"
                target="_blank"
                rel="noopener noreferrer"
            >soundcloud
            </a>
            <a
                class="IGL"
                href="https://www.instagram.com/gryphonedm/"
                target="_blank"
                rel="noopener noreferrer"
            >instagram
            </a>
            <a
                class="SL"
                href="https://open.spotify.com/artist/28RgT6dVVaK4xYA5L0qeuY"
                target="_blank"
                rel="noopener noreferrer"
            >spotify
            </a>
            <a
                class="FBL"
                href="https://www.facebook.com/gryphonedm"
                target="_blank"
                rel="noopener noreferrer"
            >facebook
            </a>
            <a
                class="TL"
                href="https://www.twitch.tv/gryphonedm"
                target="_blank"
                rel="noopener noreferrer"
            >twitch
            </a>
        </div>

        <script>
            // Set animation delays for rainbow letters
            document.addEventListener('DOMContentLoaded', function() {
                const letters = document.querySelectorAll('.rainbow-letter');
                letters.forEach(letter => {
                    const index = parseInt(letter.getAttribute('data-index'));
                    letter.style.setProperty('--index', index);
                });
            });
        </script>
        
<script src="https://unpkg.com/imagesloaded@5/imagesloaded.pkgd.min.js"></script>
<script>// Maximum distance for xy displacement offset
var DRIFT_RANGE = 25;

// Create/cache canvases and contexts for source image, 
// displacement map, and output
var cOutput = document.getElementById('output'),
    ctxOutput = cOutput.getContext('2d'),

    cSource = document.createElement('canvas'),
    ctxSource = cSource.getContext('2d'),

    cMap = document.createElement('canvas'),
    ctxMap = cMap.getContext('2d'),

    images = document.querySelectorAll('#images img');

// Ensure all canvases are the same size
var cw = cSource.width = cMap.width = cOutput.width;
var ch = cSource.height = cMap.height = cOutput.height;

// Refs for the image data
var sourceData, mapData,
    outputData = ctxOutput.createImageData(cw, ch);

function update() {
    // Calculate the xy drift based on the current time.
    // y drift is half-speed
    // TODO: make interactive (mouse, gyro, etc)
    var t = 0.002 * Date.now(),
        dx = Math.sin(t) * DRIFT_RANGE,
        dy = Math.cos(t * 0.5) * DRIFT_RANGE;

    // Iterate the xy grid
    // TODO: optimize this!
    for (var y = 0; y < ch; y++) {
        for (var x = 0; x < cw; x++) {

            // Get the greyscale value from the displacement map as a value between 0 and 1
            // 0 = black (farthest), 1 = white (nearest)
            // Higher values will be more displaced
            var pix = y * cw + x,
                arrayPos = pix * 4,
                depth = mapData[arrayPos] / 255;

            // Use the greyscale value as a percentage of our current drift,
            // and calculate an xy pixel offset based on that
            var ofs_x = Math.round(x + (dx * depth)),
                ofs_y = Math.round(y + (dy * depth));

            // Clamp the offset to the canvas dimensions
            if (ofs_x < 0) ofs_x = 0;
            if (ofs_x > cw - 1) ofs_x = cw - 1;
            if (ofs_y < 0) ofs_y = 0;
            if (ofs_y > ch - 1) ofs_y = ch - 1;

            // Get the colour from the source image at the offset xy position,
            // and transfer it to our output at the original xy position
            var targetPix = ofs_y * cw + ofs_x,
                targetPos = targetPix * 4;
            outputData.data[arrayPos] = sourceData[targetPos];
            outputData.data[arrayPos + 1] = sourceData[targetPos + 1];
            outputData.data[arrayPos + 2] = sourceData[targetPos + 2];
            outputData.data[arrayPos + 3] = sourceData[targetPos + 3];
        }
    }
}

function render() {
    ctxOutput.putImageData(outputData, 0, 0);
}

function loop() {
    requestAnimationFrame(loop);
    update();
    render();
}

function init() {
    // Write our source image and displacement map to in-memory
    // canvases and cache the data (it never gets directly manipulated)

    var sourceImg = images[0],
        mapImg = images[1];

    ctxSource.drawImage(sourceImg, 0, 0);
    sourceData = ctxSource.getImageData(0, 0, cw, ch).data;

    ctxMap.drawImage(mapImg, 0, 0);
    mapData = ctxMap.getImageData(0, 0, cw, ch).data;

    console.log('Source and map data cached');

    // Kick off the update-render loop
    loop();
}

// Wait for images to load before starting
imagesLoaded(images, function() {
    console.log('Images loaded');
    console.log('Number of images found:', images.length);
    for (var i = 0; i < images.length; i++) {
        console.log('Image ' + i + ' src:', images[i].src);
        console.log('Image ' + i + ' complete:', images[i].complete);
    }
    init();
});</script>
    </body>    
</html>
